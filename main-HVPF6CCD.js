import"./chunk-DFTMUSHY.js";import{a as D}from"./chunk-PXV7OTCI.js";import{a as _,c as U,d as x}from"./chunk-4HIBKFPM.js";import{a as O}from"./chunk-OEJAAZHR.js";import{o as S}from"./chunk-G2IRSE7Y.js";import{Da as l,Ea as m,Ga as j,Na as a,Ra as g,Sa as f,T as s,Ta as n,a as M,bb as p,fb as v,gb as u,hb as y}from"./chunk-F7FHNGY5.js";import"./chunk-SO6VPFYA.js";var z=[{path:"",loadComponent:()=>import("./chunk-6DMT4YXQ.js").then(e=>e.IntroComponent)},{path:"weather",loadComponent:()=>import("./chunk-KPFKJH3O.js").then(e=>e.WeatherComponent)},{path:"home",loadComponent:()=>import("./chunk-GSWAJQL6.js").then(e=>e.HomeComponent),children:[{path:"work-projects",loadComponent:()=>import("./chunk-ARUV4DNA.js").then(e=>e.GalleryWallComponent)},{path:"side-projects/:id",loadComponent:()=>import("./chunk-MYIG3HYY.js").then(e=>e.SideProjectsComponent)},{path:"context-manager",loadComponent:()=>import("./chunk-WM2E4YD6.js").then(e=>e.ContextManagerComponent)},{path:"sheet",loadComponent:()=>import("./chunk-FRKLKPE6.js").then(e=>e.SheetComponent)},{path:"asset-manager",loadComponent:()=>import("./chunk-R22APX2S.js").then(e=>e.AssetManagerComponent)},{path:"figma",loadComponent:()=>import("./chunk-TXJ4THQN.js").then(e=>e.FigmaComponent)},{path:"articles",loadComponent:()=>import("./chunk-ZETY2SMK.js").then(e=>e.ArticlesComponent)},{path:"",redirectTo:"work-projects",pathMatch:"full"}]}];var R={providers:[U(z)]};var k=["leftCanvas"],B=["rightCanvas"],H=(()=>{class e{constructor(t,o){this.sceneCaptureService=t,this.cdr=o,this.visible=!1,this.doorOpen=!1,this.animationComplete=!1,this.subscription=new M}ngOnInit(){this.subscription.add(this.sceneCaptureService.capturedImage$.subscribe(t=>{t&&this.showTransition(t)}))}ngAfterViewInit(){this.resizeCanvases(),window.addEventListener("resize",this.resizeCanvases.bind(this))}ngOnDestroy(){this.subscription.unsubscribe(),window.removeEventListener("resize",this.resizeCanvases.bind(this))}resizeCanvases(){if(!this.leftCanvasRef||!this.rightCanvasRef)return;let t=this.leftCanvasRef.nativeElement,o=this.rightCanvasRef.nativeElement,r=window.innerWidth,i=window.innerHeight;t.width=r,t.height=i,o.width=r,o.height=i}showTransition(t){this.visible=!0,this.doorOpen=!1,this.animationComplete=!1,this.cdr.detectChanges();let o=new Image;o.onload=()=>{this.drawSplitImage(o),setTimeout(()=>{this.doorOpen=!0,this.cdr.detectChanges(),document.querySelector(".door.left").addEventListener("transitionend",()=>{setTimeout(()=>{this.visible=!1,this.animationComplete=!0,this.cdr.detectChanges(),this.sceneCaptureService.reset()},500)},{once:!0})},500)},o.src=t}drawSplitImage(t){let o=this.leftCanvasRef.nativeElement,r=this.rightCanvasRef.nativeElement,i=o.getContext("2d"),c=r.getContext("2d");if(!i||!c){console.error("Failed to get canvas contexts");return}i.fillRect(0,0,o.width,o.height),c.fillRect(0,0,r.width,r.height);let w=o.width,C=o.height,b=Math.max(w/t.width,C/t.height),h=t.width*b,d=t.height*b,P=(w-h)/2,I=(C-d)/2;i.drawImage(t,0,0,t.width/2,t.height,P,I,h,d),c.drawImage(t,t.width/2,0,t.width/2,t.height,P,I,h,d)}static{this.\u0275fac=function(o){return new(o||e)(m(D),m(j))}}static{this.\u0275cmp=s({type:e,selectors:[["door-transition"]],viewQuery:function(o,r){if(o&1&&(u(k,5),u(B,5)),o&2){let i;v(i=y())&&(r.leftCanvasRef=i.first),v(i=y())&&(r.rightCanvasRef=i.first)}},standalone:!0,features:[p],decls:7,vars:8,consts:[[1,"door-transition"],[1,"door","left"],["leftCanvas",""],[1,"door","right"],["rightCanvas",""]],template:function(o,r){o&1&&(g(0,"div",0)(1,"div",1),n(2,"canvas",null,2),f(),g(4,"div",3),n(5,"canvas",null,4),f()()),o&2&&(a("visible",r.visible)("hidden",!r.visible&&r.animationComplete),l(),a("open",r.doorOpen),l(3),a("open",r.doorOpen))},dependencies:[S],styles:[".door-transition[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100dvh;z-index:1000;perspective:1200px;visibility:hidden;opacity:0;transition:opacity .3s ease}.door-transition.visible[_ngcontent-%COMP%]{visibility:visible;opacity:1}.door-transition.hidden[_ngcontent-%COMP%]{display:none}.door[_ngcontent-%COMP%]{position:absolute;height:100%;width:50%;overflow:hidden;transition:transform 4s cubic-bezier(.25,1,.5,1);transform-style:preserve-3d;backface-visibility:hidden}.door.left[_ngcontent-%COMP%]{left:0;transform-origin:left center;transform:rotateY(0)}.door.right[_ngcontent-%COMP%]{right:0;transform-origin:right center;transform:rotateY(0)}.door.left.open[_ngcontent-%COMP%]{transform:rotateY(-105deg)}.door.right.open[_ngcontent-%COMP%]{transform:rotateY(105deg)}canvas[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.door.left[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{left:0}.door.right[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{right:0}"]})}}return e})();var A=(()=>{class e{constructor(){this.title="portfolio"}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=s({type:e,selectors:[["harry-root"]],standalone:!0,features:[p],decls:2,vars:0,template:function(o,r){o&1&&n(0,"router-outlet")(1,"door-transition")},dependencies:[x,_,H]})}}return e})();O(A,R).catch(e=>console.error(e));
